schema: '2.0'
stages:
  prepare_data:
    cmd: mkdir -p prepared_data && uv run src/prepare_data.py
    deps:
    - path: data/test.csv
      hash: md5
      md5: 7533b82eae4b582610cbd68aa636b017
      size: 28629
    - path: data/train.csv
      hash: md5
      md5: 2309cc5f04782ed9bb6016d9f4e381cf
      size: 61194
    - path: src/prepare_data.py
      hash: md5
      md5: 4806532f7e687a6bc29799133b318e0c
      size: 2071
    params:
      params.yaml:
        data.random_seed: 42
        data.val_split: 0.15
    outs:
    - path: prepared_data/
      hash: md5
      md5: 64446be3de925416a0dd12f5e6d3d81d.dir
      size: 224483
      nfiles: 3
  train:
    cmd: uv run src/train.py
    deps:
    - path: prepared_data/
      hash: md5
      md5: 64446be3de925416a0dd12f5e6d3d81d.dir
      size: 224483
      nfiles: 3
    - path: src/train.py
      hash: md5
      md5: 730c9084c9f93a7ad27ee1392b509c9f
      size: 884
  tune_hparams:
    cmd: uv run src/tune_hparams.py
    deps:
    - path: prepared_data/
      hash: md5
      md5: 64446be3de925416a0dd12f5e6d3d81d.dir
      size: 224483
      nfiles: 3
    - path: src/tune_hparams.py
      hash: md5
      md5: a778a69383f725d8eec1344fcbb627b5
      size: 1707
    params:
      params.yaml:
        training.n_trials: 40
  predict:
    cmd: uv run src/generate_predictions.py
    deps:
    - path: prepared_data/
      hash: md5
      md5: 64446be3de925416a0dd12f5e6d3d81d.dir
      size: 224483
      nfiles: 3
    - path: src/generate_predictions.py
      hash: md5
      md5: d432738de1ddf91352d3ad68dd7ef312
      size: 637
    params:
      params.yaml:
        model.svc:
          C: 0.64535
          kernel: rbf
          gamma: 0.0487
          degree: 1
